<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>SMS Campaign Pro - By Usaim</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link href="style.css" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/file-saver@2.0.5/dist/FileSaver.min.js"></script>
</head>
<body>

  <nav class="navbar navbar-expand-lg navbar-dark bg-dark px-3">
    <a class="navbar-brand" href="#">ğŸ“² SMS Campaign Pro</a>
    <div class="ms-auto">
<button class="btn btn-sm btn-outline-light" id="themeToggleBtn" onclick="toggleTheme()">
  <span id="themeIcon">ğŸŒ“</span> Theme
</button>    </div>
  </nav>

  <div class="container py-4">
    <div class="row g-4">
      <div class="col-lg-4">
        <div class="card shadow">
          <div class="card-header bg-primary text-white">
            <h5>Send New SMS</h5>
          </div>
          <div class="card-body">
            <form id="smsForm">
              <input type="text" class="form-control mb-2" id="customerName" placeholder="Customer Name" required />
              <input type="text" class="form-control mb-2" id="bankName" placeholder="Bank Name" required />
              <input type="number" class="form-control mb-2" id="amount" placeholder="Amount (PKR)" required />
              <select id="transactionType" class="form-select mb-2" required>
                <option value="">Transaction Type</option>
                <option value="debited">Debited</option>
                <option value="credited">Credited</option>
              </select>
              <select id="userType" class="form-select mb-3">
                <option value="regular">Regular</option>
                <option value="vip">VIP</option>
              </select>
              <button type="submit" class="btn btn-success w-100">ğŸ“¤ Send SMS</button>
            </form>
          </div>
        </div>

        <div class="card shadow mt-4">
          <div class="card-header bg-warning text-dark d-flex justify-content-between">
            <span>ğŸ” Search</span>
            <button class="btn btn-sm btn-outline-dark" onclick="exportToCSV()">ğŸ“ Export</button>
          </div>
          <div class="card-body">
            <input type="text" class="form-control" id="searchInput" placeholder="Search customer..." />
          </div>
        </div>
      </div>

      <div class="col-lg-8">
        <div class="card shadow">
          <div class="card-header bg-info text-white">
            <h5>ğŸ“¨ SMS Preview</h5>
          </div>
          <div class="card-body" id="smsPreview">
            <p class="text-muted">Fill the form to preview SMS...</p>
          </div>
        </div>

        <div class="row mt-4">
          <div class="col-md-4">
            <div class="card text-white bg-danger shadow">
              <div class="card-header">Total Debited</div>
              <div class="card-body">
                <h4>PKR <span id="totalDebited">0</span></h4>
              </div>
            </div>
          </div>
          <div class="col-md-4">
            <div class="card text-white bg-success shadow">
              <div class="card-header">Total Credited</div>
              <div class="card-body">
                <h4>PKR <span id="totalCredited">0</span></h4>
              </div>
            </div>
          </div>
          <div class="col-md-4">
            <div class="card bg-light shadow">
              <div class="card-header">ğŸ’¹ Overview</div>
              <div class="card-body">
                <canvas id="transactionChart" height="120"></canvas>
                <canvas id="pieChart" height="120" class="mt-3"></canvas>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="card mt-5 shadow">
      <div class="card-header bg-secondary text-white d-flex justify-content-between align-items-center">
        <h5>ğŸ“‹ Transaction Logs</h5>
        <button class="btn btn-sm btn-danger" onclick="clearLogs()">ğŸ—‘ï¸ Clear All</button>
      </div>
      <div class="table-responsive">
        <table class="table table-hover table-bordered align-middle">
          <thead class="table-dark text-center">
            <tr>
              <th>Customer</th>
              <th>Bank</th>
              <th>Type</th>
              <th>Amount</th>
              <th>User</th>
              <th>Status</th>
              <th>Time</th>
              <th>Action</th>
            </tr>
          </thead>
          <tbody id="logTableBody">
            <!-- Dynamic Content -->
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <!-- Toast -->
  <div class="position-fixed bottom-0 end-0 p-3" style="z-index: 1055;">
    <div id="toast" class="toast bg-success text-white" data-bs-delay="3000" role="alert">
      <div class="toast-body">SMS Sent Successfully!</div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <script src="script.js"></script>
  <canvas id="confettiCanvas" style="position:fixed;pointer-events:none;top:0;left:0;width:100vw;height:100vh;z-index:2000;display:none"></canvas>
<audio id="smsSound" src="https://cdn.pixabay.com/audio/2022/03/15/audio_115b9bfae3.mp3"></audio>
</body>
</html>
